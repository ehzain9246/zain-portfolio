!function(e){e(window).on("elementor/frontend/init",function(){var t=elementorModules.frontend.handlers.Base.extend({settings:{},getDefaultSettings:function(){return{selectors:{scrollElement:".premium-scroll-background"}}},getDefaultElements:function(){var e=this.getSettings("selectors");return{$scrollElement:this.$element.find(e.scrollElement)}},bindEvents:function(){var e=this,t=e.$element.hasClass("delay-trigger")?500:0;setTimeout(function(){e.setWidgetSettings(),e.run()},t)},setWidgetSettings:function(){var t=this.getRepeaterSettings(),s=elementorFrontend.getCurrentDeviceMode(),i={offset:null,isNull:!1,isSolid:!0,elements:t.elements,downColors:t.downColors,upColors:t.upColors,itemsIDs:t.itemsIDs,downOffsets:t.downOffsets,upOffsets:t.upOffsets,id:this.$element.data("id"),offset:"offset"+("desktop"===s?"":"_"+s)};i.$firstElement=e("#"+i.elements[0]),i.$lastElement=e("#"+i.elements[i.elements.length-1]),i.$firstElement.length&&i.$lastElement.length&&(i.firstElemOffset=i.$firstElement.offset().top,i.lastElemOffset=i.$lastElement.offset().top,i.lastElemeHeight=i.$lastElement.outerHeight(),i.lastElemeBot=i.lastElemOffset+i.lastElemeHeight),this.settings=i},run:function(){for(var t=this,s=e(window),i=this.elements.$scrollElement,o=this.settings.elements,n=this.settings.downColors,r=this.settings.downOffsets,l=this.settings.upOffsets,a=this.settings.itemsIDs,d=0;d<o.length;d++)if(!e("#"+o[d]).length){i.html('<div class="premium-error-notice">Please make sure that IDs added to the widget are valid</div>'),this.settings.isNull=!0;break}if(!this.settings.isNull)if(void 0==this.getElementSettings(this.settings.offset)&&(this.settings.offset="offset"),e('<div id="premium-color-transition-'+this.settings.id+'" class="premium-color-transition"></div>').prependTo(e("body")),e(document).ready(function(){e(".premium-color-transition").length>1&&s.on("scroll",t.checkVisible)}),n.forEach(function(e){-1!==e.indexOf("//")&&(t.settings.isSolid=!1)}),this.getElementSettings("gradient")||(this.settings.isSolid=!1),this.settings.isSolid){this.rowTransitionalColor=function(s,i,o){"use strict";var n,r,l,a,d,u=0,c=s,m=i=t.hexToRgb(i),f=o=t.hexToRgb(o);e(document).scroll(function(){var s=c.offset().top,i=c.outerHeight()/4,o=s+c.outerHeight()-i;(u=e(this).scrollTop())>=s&&u<=o?(n=(u-s)/(c.outerHeight()-i),r=Math.abs(m.r+(f.r-m.r)*n),l=Math.abs(m.g+(f.g-m.g)*n),a=Math.abs(m.b+(f.b-m.b)*n),d="rgb("+r+","+l+","+a+")",e("#premium-color-transition-"+t.settings.id).css({backgroundColor:d})):u>o&&e("#premium-color-transition-"+t.settings.id).css({backgroundColor:f})})},this.hexToRgb=function(e){if(-1!==e.indexOf("rgb")){var t=e.substring(e.indexOf("(")+1).split(",");return{r:parseInt(t[0]),g:parseInt(t[1]),b:parseInt(t[2])}}var s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:null},e("#premium-color-transition-"+this.settings.id).css({backgroundColor:n[0]});var u=e("#premium-color-transition-"+this.settings.id).closest(".elementor");0===u.length&&(u=e(".elementor").first());d=0;var c=n.length,m=null;e(".elementor > .elementor-element, .elementor-section-wrap > .elementor-element").each(function(){c<=d&&(d=0);var s=d,i=d+1;""!==n[s]&&void 0!=n[s]&&(s=n[s]),""!==n[i]&&void 0!=n[i]?(m=!1,i=n[i]):(m=!0,i=n[i=d=0]),t.rowTransitionalColor(e(this),s,i),m||d++})}else{Waypoint.refreshAll();var f=null;o.forEach(function(s,i){e('<div class="premium-color-transition-layer elementor-repeater-item-'+a[i]+'" data-direction="down"></div>').prependTo(e("#premium-color-transition-"+t.settings.id)),e('<div class="premium-color-transition-layer elementor-repeater-item-'+a[i]+'" data-direction="up"></div>').prependTo(e("#premium-color-transition-"+t.settings.id)),-1!==n[i].indexOf("//")&&e(".elementor-repeater-item-"+a[i]+'[data-direction="down"]').css("background-image","url("+n[i]+")"),-1!==t.settings.upColors[i].indexOf("//")&&e(".elementor-repeater-item-"+a[i]+'[data-direction="up"]').css("background-image","url("+t.settings.upColors[i]+")"),t.visible(e("#"+s),!0)&&(e(".elementor-repeater-item-"+a[i]+'[data-direction="down"]').addClass("layer-active"),f=i),elementorFrontend.waypoint(e("#"+s),function(s){if("down"===s){var o=t.settings.downColors[i];t.checkDifferentBackgrounds(o,f)&&(e(".premium-color-transition-layer").removeClass("layer-active"),e(".elementor-repeater-item-"+a[i]+'[data-direction="down"]').addClass("layer-active"),f=i)}},{offset:r[i],triggerOnce:!1}),elementorFrontend.waypoint(e("#"+s),function(s){if("up"===s){var o=t.settings.upColors[i];t.checkDifferentBackgrounds(o,f)&&(e(".premium-color-transition-layer").removeClass("layer-active"),e(".elementor-repeater-item-"+a[i]+'[data-direction="up"]').addClass("layer-active"),f=i)}},{offset:l[i],triggerOnce:!1})})}},checkDifferentBackgrounds:function(t,s){var i;return i="down"===e("#premium-color-transition-"+this.settings.id+" .layer-active").data("direction")?this.settings.downColors[s]:this.settings.upColors[s],null==s||-1==i.indexOf(t)},getRepeaterSettings:function(){var e=this.getElementSettings("id_repeater"),t=[],s=[],i=[],o=[],n=[],r=[],l=this.getElementSettings("offset")||30;return e.forEach(function(e,a){switch(t.push(e.section_id),i.push(e._id),e.down_background=e.down_color,"image"===e.scroll_down_type&&""!==e.down_image.url&&(e.down_background=e.down_image.url),e.up_background=e.up_color,"image"===e.scroll_up_type&&""!==e.up_image.url&&(e.up_background=e.up_image.url),""===e.up_background&&(e.up_background=e.down_background),s.push(e.down_background),o.push(e.up_background),e.scroll_down_offset){case"":n.push(0===a?"bottom-in-view":l);break;case"top-in-view":n.push("0");break;case"bottom-in-view":n.push(e.scroll_down_offset);break;default:n.push(e.scroll_down_custom_offset.size+e.scroll_down_custom_offset.unit)}switch(e.scroll_up_offset){case"":r.push("-"+l);break;case"top-in-view":r.push("0");break;case"bottom-in-view":r.push(e.scroll_up_offset);break;default:r.push("-"+e.scroll_up_custom_offset.size+e.scroll_up_custom_offset.unit)}}),{elements:t,downColors:s,upColors:o,itemsIDs:i,downOffsets:n,upOffsets:r}},checkVisible:function(){var t=this.settings,s=e(window);if(void 0!==t.firstElemOffset&&void 0!==t.lastElemOffset){if(s.scrollTop()>=t.lastElemeBot-t.lastElemeHeight/4)0!==e("#premium-color-transition-"+t.id).index()&&e("#premium-color-transition-"+t.id).addClass("premium-bg-transition-hidden");s.scrollTop()>=t.firstElemOffset&&s.scrollTop()<t.lastElemOffset&&e("#premium-color-transition-"+t.id).removeClass("premium-bg-transition-hidden")}},visible:function(t,s,i){var o=t.get(0),n=e(window),r=n.outerHeight(),l=!0!==i||o.offsetWidth*o.offsetHeight;if("function"==typeof o.getBoundingClientRect){var a=o.getBoundingClientRect(),d=a.top>=0&&a.top<r,u=a.bottom>0&&a.bottom<=r,c=s?d||u:d&&u;c=a.top<0&&a.bottom>r||c;return l&&c}var m=0+r,f=n.position().top,g=f+n.height();return!!l&&(!0===s?f:g)<=m&&(!0===s?g:f)>=0}});elementorFrontend.elementsHandler.attachHandler("premium-color-transition",t)})}(jQuery);